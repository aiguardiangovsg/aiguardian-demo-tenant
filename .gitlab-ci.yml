image: python:3.x

# Global stages for the pipeline
stages:
  - scheduled

# Hourly scheduled job
hourly-task:
  stage: scheduled
  # Use GitLab's predefined schedule syntax
  rules:
    # This rule ensures the job runs every hour
    - if: $CI_PIPELINE_SOURCE == "schedule"

  # Example script (replace with your actual task)
  script:
    - echo "Running hourly task at $(date)"
    - echo "Performing maintenance or data refresh"

# Echo the current time on every branch
every-branch:
  stage: scheduled
  rules:
    - if: $CI_PIPELINE_SOURCE == "push"
  script:
    - echo "Running on every branch at $(date)"
